<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>UMLS · BioServices.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">BioServices.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../eutils/">EUtils</a></li><li class="is-active"><a class="tocitem" href>UMLS</a><ul class="internal"><li><a class="tocitem" href="#Getting-Started"><span>Getting Started</span></a></li><li><a class="tocitem" href="#Available-Endpoints"><span>Available Endpoints</span></a></li><li><a class="tocitem" href="#Exported-Functions"><span>Exported Functions</span></a></li><li><a class="tocitem" href="#Sample-workflow"><span>Sample workflow</span></a></li><li><a class="tocitem" href="#Methods"><span>Methods</span></a></li></ul></li><li><a class="tocitem" href="../gggenome/">GGGenome</a></li><li><a class="tocitem" href="../../">Home</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>UMLS</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>UMLS</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/BioJulia/BioServices.jl/blob/master/docs/src/man/umls.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="UMLS"><a class="docs-heading-anchor" href="#UMLS">UMLS</a><a id="UMLS-1"></a><a class="docs-heading-anchor-permalink" href="#UMLS" title="Permalink"></a></h1><p>The Unified Medical Language System (UMLS) brings together many health and biomedical vocabularies and standards to enable interoperability between biomedical information systems and services. The <a href="https://www.nlm.nih.gov/research/umls/quickstart.html">UMLS Quick Start Guide</a> provides an overview of the software, tools and services associated with the UMLS.</p><p><code>BioServices.UMLS</code> is a Julia module that interfaces with the <a href="https://documentation.uts.nlm.nih.gov/rest/home.html">UMLS REST API</a> to query the UMLS data programmatically.</p><h2 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h2><ol><li><p><a href="https://uts.nlm.nih.gov/license.html">Sign up</a> for a UMLS Terminology Services (UTS) account, where you agree to their terms of use.</p></li><li><p>Import the module:</p><p><code>julia  using BioServices.UMLS</code></p></li></ol><h2 id="Available-Endpoints"><a class="docs-heading-anchor" href="#Available-Endpoints">Available Endpoints</a><a id="Available-Endpoints-1"></a><a class="docs-heading-anchor-permalink" href="#Available-Endpoints" title="Permalink"></a></h2><p>For a  complete list of the endpoints available through the UMLS REST API visit the <a href="https://documentation.uts.nlm.nih.gov/rest/home.html">UMLS REST API Documentation</a>.</p><p>This module focuses on the following three endpoints. (Requests to expand API are encouraged through pull requests or issues in out GitHub repository.)</p><table><tr><th style="text-align: left">EndPoint</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left">/cas/v1/tickets</td><td style="text-align: left">Authentication</td></tr><tr><td style="text-align: left">/search/version</td><td style="text-align: left">Retrieves &lt;abbr title=&quot;Concept Unique Identifier&quot;&gt;CUI&lt;/abbr&gt; when searching by term or code</td></tr><tr><td style="text-align: left">/content/version/CUI</td><td style="text-align: left">Retrieves information about a known &lt;abbr title=&quot;Concept Unique Identifier&quot;&gt;CUI&lt;/abbr&gt;</td></tr></table><h2 id="Exported-Functions"><a class="docs-heading-anchor" href="#Exported-Functions">Exported Functions</a><a id="Exported-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Exported-Functions" title="Permalink"></a></h2><p>The following functions access the above enpoints. See the <a href="#Methods-1">method documentation</a> for specific usage.</p><table><tr><th style="text-align: left">Function</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><a href="#get-ticket-granting-ticket"><code>get_tgt</code></a></td><td style="text-align: left">Get a ticket-granting ticket</td></tr><tr><td style="text-align: left"><a href="#search-umls"><code>search_umls</code></a></td><td style="text-align: left">Search UMLS Rest API</td></tr><tr><td style="text-align: left"><a href="#best-cui"><code>best_match_cui</code></a></td><td style="text-align: left">Return concept ID of best match for a serach</td></tr><tr><td style="text-align: left"><a href="#search-based-on-cui"><code>get-cui</code></a></td><td style="text-align: left">Get information associated with a Concept ID (&lt;abbr title=&quot;Concept Unique Identifier&quot;&gt;CUI&lt;/abbr&gt;)</td></tr><tr><td style="text-align: left"><a href="#semantic-types"><code>get_semantic_types</code></a></td><td style="text-align: left">Retrieve smenatic types associated with a &lt;abbr title=&quot;Concept Unique Identifier&quot;&gt;CUI&lt;/abbr&gt;</td></tr></table><h2 id="Sample-workflow"><a class="docs-heading-anchor" href="#Sample-workflow">Sample workflow</a><a id="Sample-workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Sample-workflow" title="Permalink"></a></h2><p>Service tickets are needed each time you search or retrieve content from the UMLS REST API. A service ticket is retrieved automatically by this software from a <strong>ticket granting ticket</strong>. Thus, the first step of your workflow must start by requesting a <strong>ticket granting ticket</strong> using your credentials. There are two ways you can do this:</p><p><strong>1. Use username and password</strong></p><pre><code class="language-julia">    user = &quot;myuser&quot;
    psswd = &quot;mypsswd&quot;
    tgt = get_tgt(username=user, password=psswd)</code></pre><p><strong>2. Use API KEY</strong></p><pre><code class="language-julia">    apikey = &quot;myapikey&quot;
    tgt = get_tgt(apikey=apikey)</code></pre><p>According to the UMLS documentation, <strong>ticket granting tickets</strong> are valid for 8 hours, therefore we locally store the ticket in a file and reuse it as long as it has not expired. If you get errors, you can force the <code>get_tgt</code> function to get a new ticket. For instance:</p><pre><code class="language-julia">   tgt = get_tgt(force_new=true, apikey=apikey)</code></pre><p>After authentication, you can query the &lt;abbr title=&quot;Concept Unique Identifier&quot;&gt;CUI&lt;/abbr&gt; associated with a term (e.g obesity) to get the semantic type(s) associated with that term (e.g obesity is a Disease or Syndrome)</p><pre><code class="language-julia">    term = &quot;obesity&quot;
    query = Dict(&quot;string&quot;=&gt;term, &quot;searchType&quot;=&gt;&quot;exact&quot; )
    all_results= search_umls(tgt, query)
    cui = best_match_cui(all_results)   # cui=&quot;C0028754&quot;
    sm = get_semantic_types(tgt, cui)   # sm[1] == &quot;Disease or Syndrome&quot;</code></pre><p><strong>Options for searchType</strong></p><ul><li>Word: breaks a search term into its component parts, or words, and retrieves all concepts containing any of those words. For example: If you enter &quot;Heart Disease, Acute&quot; a Word search will retrieve all concepts containing any of the three words (heart, or disease, or acute). Word is the default Search Type selection and is appropriate for both English and non-English search terms.</li><li>Approximate Match: applies lexical variant generation (LVG) rules to the search term and generally results in expanded retrieval of concepts. For example, a search for the term &quot;cold&quot; retrieves all concepts that contain any of the following words: COLDs, chronic obstructive lung disease, chronic obstructive lung diseases, cold, colder, coldest.</li><li>Exact Match: retrieves only concepts that include a synonym that exactly matches the search term.</li><li>Normalized String: use with English language terms only. Removes lexical variations such as plural and upper case text and compares search terms to the Metathesaurus normalized string index to retrieve relevant concepts.</li><li>Normalized Word: use with English language terms only. Removes lexical variations such as plural and upper case text, and compares search terms to the Metathesaurus normalized word index to retrieve relevant concepts.</li><li>Right Truncation: retrieves concepts with synonyms that begin with the letters of the search term. For example, a right truncation search for &quot;bronch&quot; retrieves concepts that contain synonyms such as bronchitis, bronchiole, bronchial artery.</li><li>Left Truncation: retrieves concepts with synonyms that end with the letters of the search term. For example, a left truncation search for &quot;itis&quot; retrieves concepts that contain synonyms such as colitis, bronchitis, pancreatitis.</li></ul><h2 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="BioServices.UMLS.get_tgt-Tuple{}" href="#BioServices.UMLS.get_tgt-Tuple{}"><code>BioServices.UMLS.get_tgt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_tgt(; force_new::Bool = false, kwargs...)</code></pre><p>Retrieve a ticket granting ticket (TGT) using</p><ol><li>UTS username and password OR</li><li>apikey</li></ol><p>A tgt is valid for 8 hours. Therefore, look for UTS<em>TGT.txt in the local directory to see if it has been recently stored. One can force getting a new ticket by passing keyword argument `force</em>new=true`</p><p>####Examples</p><pre><code class="language-julia">tgt = get_tgt(username = &quot;myuser&quot;, password = &quot;mypass&quot;)</code></pre><pre><code class="language-julia">tgt = get_tgt(apikey = &quot;mykey&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BioJulia/BioServices.jl/blob/436f095b01370e2911d53a13c6abc694ccd6fe17/src/umls.jl#L87-L108">source</a></section></article><hr/><article class="docstring"><header><a class="docstring-binding" id="BioServices.UMLS.search_umls-Tuple{Any, Any}" href="#BioServices.UMLS.search_umls-Tuple{Any, Any}"><code>BioServices.UMLS.search_umls</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">search_umls(tgt, query)</code></pre><p>Search UMLS Rest API. For more info see <a href="https://documentation.uts.nlm.nih.gov/rest/search/">UMLS_API</a></p><p>####Arguments</p><ul><li><code>tgt</code>: Ticket Granting Ticket</li><li><code>query</code>: UMLS query containing the search term</li><li><code>version:</code> Optional - defaults to current</li></ul><p>####Output</p><ul><li><code>result_pages</code>: Array, where each entry is a dictionary containing a page of</li></ul><p>results. e.g</p><pre><code class="language-julia">Dict{AbstractString,Any} with 3 entries:
&quot;pageSize&quot;   =&gt; 25
&quot;pageNumber&quot; =&gt; 1
&quot;result&quot;     =&gt; Dict{AbstractString,Any}(&quot;classType&quot;=&gt;&quot;searchResults&quot;,&quot;result…</code></pre><p>####Examples</p><pre><code class="language-julia">credentials = Credentials(user, psswd)
tgt = get_tgt(credentials)
term = &quot;obesity&quot;
query = Dict(&quot;string&quot;=&gt;term, &quot;searchType&quot;=&gt;&quot;exact&quot; )
all_results= search_umls(tgt, query)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BioJulia/BioServices.jl/blob/436f095b01370e2911d53a13c6abc694ccd6fe17/src/umls.jl#L173-L206">source</a></section></article><hr/><article class="docstring"><header><a class="docstring-binding" id="BioServices.UMLS.best_match_cui-Tuple{Any}" href="#BioServices.UMLS.best_match_cui-Tuple{Any}"><code>BioServices.UMLS.best_match_cui</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">best_match_cui(result_pages)</code></pre><p>Retrieve the best match from array of all result pages</p><p>####Example</p><pre><code class="language-julia">cui = best_match_cui(all_results)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BioJulia/BioServices.jl/blob/436f095b01370e2911d53a13c6abc694ccd6fe17/src/umls.jl#L248-L258">source</a></section></article><hr/><article class="docstring"><header><a class="docstring-binding" id="BioServices.UMLS.get_cui-Tuple{Any, Any}" href="#BioServices.UMLS.get_cui-Tuple{Any, Any}"><code>BioServices.UMLS.get_cui</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_cui(tgt,cui)</code></pre><p>Retrieve information (name, semantic types, number of atoms, etc) for a known CUI from latest UMLS version or a specific release.</p><p>Returns UTS json response</p><p>See: https://documentation.uts.nlm.nih.gov/rest/concept</p><p>####Example</p><pre><code class="language-julia">tgt = get_tgt(apikey = &quot;mykey&quot;)
cui = &quot;C0028754&quot;
concept = get_cui(tgt, cui)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BioJulia/BioServices.jl/blob/436f095b01370e2911d53a13c6abc694ccd6fe17/src/umls.jl#L264-L281">source</a></section></article><hr/><article class="docstring"><header><a class="docstring-binding" id="BioServices.UMLS.get_semantic_types-Tuple{Any, Any}" href="#BioServices.UMLS.get_semantic_types-Tuple{Any, Any}"><code>BioServices.UMLS.get_semantic_types</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_semantic_types(c::Credentials, cui)</code></pre><p>Return an array of the semantic types associated with a cui</p><p>####Example</p><pre><code class="language-julia">tgt = get_tgt(apikey = &quot;mykey&quot;)
cui = &quot;C0028754&quot;
sm = get_semantic_types(tgt, cui)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/BioJulia/BioServices.jl/blob/436f095b01370e2911d53a13c6abc694ccd6fe17/src/umls.jl#L303-L315">source</a></section></article><hr/></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../eutils/">« EUtils</a><a class="docs-footer-nextpage" href="../gggenome/">GGGenome »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 7 April 2021 13:50">Wednesday 7 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
