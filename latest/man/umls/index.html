



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="BioJulia tools for working with online services.">
      
      
        <link rel="canonical" href="https://biojulia.github.io/BioServices.jl/man/umls/">
      
      
        <meta name="author" content="The BioJulia Organisation">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.3">
    
    
      
        <title>UMLS - BioServices.jl</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.8d40d89b.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/Documenter.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#umls" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://biojulia.github.io/BioServices.jl/" title="BioServices.jl" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                BioServices.jl
              </span>
              <span class="md-header-nav__topic">
                UMLS
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/BioJulia/BioServices.jl/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    BioServices.jl
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/BioJulia/BioServices.jl/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Manual
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Manual
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../eutils/" title="EUtils" class="md-nav__link">
      EUtils
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        UMLS
      </label>
    
    <a href="./" title="UMLS" class="md-nav__link md-nav__link--active">
      UMLS
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#available-endpoints" title="Available Endpoints" class="md-nav__link">
    Available Endpoints
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exported-functions" title="Exported Functions" class="md-nav__link">
    Exported Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-workflow" title="Sample workflow" class="md-nav__link">
    Sample workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods-documentation" title="Method's documentation" class="md-nav__link">
    Method's documentation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-ticket-granting-ticket" title="Get ticket-granting ticket" class="md-nav__link">
    Get ticket-granting ticket
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-umls" title="Search UMLS" class="md-nav__link">
    Search UMLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments" title="Arguments" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output" title="Output" class="md-nav__link">
    Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-cui" title="Best CUI" class="md-nav__link">
    Best CUI
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-based-on-cui" title="Search based on CUI" class="md-nav__link">
    Search based on CUI
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_1" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-types" title="Semantic types" class="md-nav__link">
    Semantic types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" title="Getting Started" class="md-nav__link">
    Getting Started
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#available-endpoints" title="Available Endpoints" class="md-nav__link">
    Available Endpoints
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exported-functions" title="Exported Functions" class="md-nav__link">
    Exported Functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sample-workflow" title="Sample workflow" class="md-nav__link">
    Sample workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods-documentation" title="Method's documentation" class="md-nav__link">
    Method's documentation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-ticket-granting-ticket" title="Get ticket-granting ticket" class="md-nav__link">
    Get ticket-granting ticket
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-umls" title="Search UMLS" class="md-nav__link">
    Search UMLS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arguments" title="Arguments" class="md-nav__link">
    Arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output" title="Output" class="md-nav__link">
    Output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#best-cui" title="Best CUI" class="md-nav__link">
    Best CUI
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-based-on-cui" title="Search based on CUI" class="md-nav__link">
    Search based on CUI
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_1" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-types" title="Semantic types" class="md-nav__link">
    Semantic types
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example_2" title="Example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/BioJulia/BioServices.jl/edit/master/docs/man/umls.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><a id='UMLS-1'></a></p>
<h1 id="umls">UMLS</h1>
<p>The Unified Medical Language System (UMLS) brings together many health and biomedical vocabularies and standards to enable interoperability between systems. <a href="https://www.nlm.nih.gov/research/umls/quickstart.html">UMLS Quick Start Guide</a> provides an overview of the software, tools and services associated with the UMLS.</p>
<p>BioServices.UMLS is a Julia module that interfaces with the <a href="https://documentation.uts.nlm.nih.gov/rest/home.html">UMLS REST API</a> to query the UMLS data programmatically.</p>
<p><a id='Getting-Started-1'></a></p>
<h2 id="getting-started">Getting Started</h2>
<ol>
<li><a href="../(https://uts.nlm.nih.gov/license.html)">Sing up</a> for a UMLS Terminology Services (UTS) account, where you agree to their terms of use.</li>
<li>
<p>Import module:</p>
<p><code>using BioServices.UMLS</code></p>
</li>
</ol>
<p><a id='Available-Endpoints-1'></a></p>
<h2 id="available-endpoints">Available Endpoints</h2>
<p>For a  complete list of the enpoints made available in the REST API visit the <a href="https://documentation.uts.nlm.nih.gov/rest/home.html">REST API Documentation</a></p>
<p>This module focuses in the following three enpoints. (Request to expand API is encouraged trhough pull requests or issues in out GitHub repository.)</p>
<table>
<thead>
<tr>
<th align="left">EndPoint</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">/cas/v1/tickets</td>
<td align="left">Authentication</td>
</tr>
<tr>
<td align="left">/search/version</td>
<td align="left">Retrieves CUI when searching by term or code</td>
</tr>
<tr>
<td align="left">/content/version/CUI</td>
<td align="left">Retrieves information about a known CUI</td>
</tr>
</tbody>
</table>
<ul>
<li>CUI refers to Concept Unique Identifier</li>
</ul>
<hr />
<p><a id='Exported-Functions-1'></a></p>
<h2 id="exported-functions">Exported Functions</h2>
<p>The following functions access the mentioned enpoints. See the <a href="#methods-documentation">method's documentation</a> for specific usage</p>
<table>
<thead>
<tr>
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="#get-ticket-granting-ticket"><code>get_tgt</code></a></td>
<td align="left">Get a ticket-granting ticket</td>
</tr>
<tr>
<td align="left"><a href="#search-umls"><code>search_umls</code></a></td>
<td align="left">Search UMLS Rest API</td>
</tr>
<tr>
<td align="left"><a href="#best-cui"><code>best_match_cui</code></a></td>
<td align="left">Return concept ID of best match for a serach</td>
</tr>
<tr>
<td align="left"><a href="#search-based-on-cui"><code>get-cui</code></a></td>
<td align="left">Get information associated with a Concept ID(CUI)</td>
</tr>
<tr>
<td align="left"><a href="#semantic-types"><code>get_semantic_types</code></a></td>
<td align="left">Retrieve smenatic types associated with a CUI</td>
</tr>
</tbody>
</table>
<hr />
<p><a id='Sample-workflow-1'></a></p>
<h2 id="sample-workflow">Sample workflow</h2>
<p>Service tickets are needed each time you search or retrieve content from the UMLS REST API.  A service ticket is retrieved automatically by this software from a <strong>ticket granting ticket</strong>.</p>
<p>Therefore, the first step of your workflow must start by requesting a <strong>ticket granting ticket</strong> from your credentials. Two methods are available</p>
<p><strong>Use username and password</strong></p>
<div class="codehilite"><pre><span></span>    <span class="n">user</span> <span class="o">=</span> <span class="s">&quot;myuser&quot;</span>
    <span class="n">psswd</span> <span class="o">=</span> <span class="s">&quot;mypsswd&quot;</span>
    <span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">user</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">psswd</span><span class="p">)</span>
</pre></div>


<p><strong>Use API KEY</strong></p>
<div class="codehilite"><pre><span></span>    <span class="n">apikey</span> <span class="o">=</span> <span class="s">&quot;myapikey&quot;</span>
    <span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">apikey</span><span class="o">=</span><span class="n">apikey</span><span class="p">)</span>
</pre></div>


<p>According to the UMLS documentation. <strong>Ticket granting tickets</strong> are valid for 8 hours, therefore we locally store the ticket in a file and  reuse it if it has not expired. If you get errors, you can force getting a new ticket. For instance</p>
<div class="codehilite"><pre><span></span>   <span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">force_new</span><span class="o">=</span><span class="kc">true</span><span class="p">,</span> <span class="n">apikey</span><span class="o">=</span><span class="n">apikey</span><span class="p">)</span>
</pre></div>


<p>After authentication, you can query the CUI associated with a term (e.g obesity) and the semantic types associated with that term (e.g obesity is a Disease or Syndrome)</p>
<div class="codehilite"><pre><span></span>    <span class="n">term</span> <span class="o">=</span> <span class="s">&quot;obesity&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="kt">Dict</span><span class="p">(</span><span class="s">&quot;string&quot;</span><span class="o">=&gt;</span><span class="n">term</span><span class="p">,</span> <span class="s">&quot;searchType&quot;</span><span class="o">=&gt;</span><span class="s">&quot;exact&quot;</span> <span class="p">)</span>
    <span class="n">all_results</span><span class="o">=</span> <span class="n">search_umls</span><span class="p">(</span><span class="n">tgt</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
    <span class="n">cui</span> <span class="o">=</span> <span class="n">best_match_cui</span><span class="p">(</span><span class="n">all_results</span><span class="p">)</span>   <span class="c">#cui=&quot;C0028754&quot;</span>
    <span class="n">sm</span> <span class="o">=</span> <span class="n">get_semantic_types</span><span class="p">(</span><span class="n">tgt</span><span class="p">,</span> <span class="n">cui</span><span class="p">)</span>   <span class="c">#sm[1] == &quot;Disease or Syndrome&quot;</span>
</pre></div>


<p><strong>Options for searchType</strong></p>
<ul>
<li>Word: breaks a search term into its component parts, or words, and retrieves all concepts containing any of those words. For example: If you enter "Heart Disease, Acute" a Word search will retrieve all concepts containing any of the three words (heart, or disease, or acute). Word is the default Search Type selection and is appropriate for both English and non-English search terms.</li>
<li>Approximate Match: applies lexical variant generation (LVG) rules to the search term and generally results in expanded retrieval of concepts. For example, a search for the term "cold" retrieves all concepts that contain any of the following words: COLDs, chronic obstructive lung disease, chronic obstructive lung diseases, cold, colder, coldest.</li>
<li>Exact Match: retrieves only concepts that include a synonym that exactly matches the search term.</li>
<li>Normalized String: use with English language terms only. Removes lexical variations such as plural and upper case text and compares search terms to the Metathesaurus normalized string index to retrieve relevant concepts.</li>
<li>Normalized Word: use with English language terms only. Removes lexical variations such as plural and upper case text, and compares search terms to the Metathesaurus normalized word index to retrieve relevant concepts.</li>
<li>Right Truncation: retrieves concepts with synonyms that begin with the letters of the search term. For example, a right truncation search for "bronch" retrieves concepts that contain synonyms such as bronchitis, bronchiole, bronchial artery.</li>
<li>Left Truncation: retrieves concepts with synonyms that end with the letters of the search term. For example, a left truncation search for "itis" retrieves concepts that contain synonyms such as colitis, bronchitis, pancreatitis.</li>
</ul>
<hr />
<p><a id='Method's-documentation-1'></a></p>
<h2 id="methods-documentation">Method's documentation</h2>
<hr />
<p><a id='Get-ticket-granting-ticket-1'></a></p>
<h3 id="get-ticket-granting-ticket">Get ticket-granting ticket</h3>
<p><a id='BioServices.UMLS.get_tgt-Tuple{}' href='#BioServices.UMLS.get_tgt-Tuple{}'>#</a>
<strong><code>BioServices.UMLS.get_tgt</code></strong> &mdash; <em>Method</em>.</p>
<div class="codehilite"><pre><span></span>get_tgt(; force_new::Bool = false, kwargs...)
</pre></div>


<p>Retrieve a ticket granting ticket (TGT) using</p>
<ol>
<li>UTS username and password OR</li>
<li>apikey</li>
</ol>
<p>A tgt is valid for 8 hours. Therefore, look for UTS_TGT.txt in the local directory to see if it has been recently stored. One can force getting a new ticket by passing keyword argument <code>force_new=true</code></p>
<h4 id="examples">Examples</h4>
<div class="codehilite"><pre><span></span><span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">username</span> <span class="o">=</span> <span class="s">&quot;myuser&quot;</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;mypass&quot;</span><span class="p">)</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">&quot;mykey&quot;</span><span class="p">)</span>
</pre></div>


<p><a target='_blank' href='https://github.com/BioJulia/BioServices.jl/blob/5066442acaf02cfbec74f8dc746ec4df2b4ab675/src/umls.jl#L86-L107' class='documenter-source'>source</a><br></p>
<hr />
<p><a id='Search-UMLS-1'></a></p>
<h3 id="search-umls">Search UMLS</h3>
<p><a id='BioServices.UMLS.search_umls-Tuple{Any,Any}' href='#BioServices.UMLS.search_umls-Tuple{Any,Any}'>#</a>
<strong><code>BioServices.UMLS.search_umls</code></strong> &mdash; <em>Method</em>.</p>
<div class="codehilite"><pre><span></span>search_umls(tgt, query)
</pre></div>


<p>Search UMLS Rest API. For more info see <a href="https://documentation.uts.nlm.nih.gov/rest/search/">UMLS_API</a></p>
<h4 id="arguments">Arguments</h4>
<ul>
<li><code>tgt</code>: Ticket Granting Ticket</li>
<li><code>query</code>: UMLS query containing the search term</li>
<li><code>version:</code> Optional - defaults to current</li>
</ul>
<h4 id="output">Output</h4>
<ul>
<li><code>result_pages</code>: Array, where each entry is a dictionary containing a page of</li>
</ul>
<p>results. e.g</p>
<div class="codehilite"><pre><span></span><span class="kt">Dict</span><span class="p">{</span><span class="kt">AbstractString</span><span class="p">,</span><span class="kt">Any</span><span class="p">}</span> <span class="n">with</span> <span class="mi">3</span> <span class="n">entries</span><span class="o">:</span>
<span class="s">&quot;pageSize&quot;</span>   <span class="o">=&gt;</span> <span class="mi">25</span>
<span class="s">&quot;pageNumber&quot;</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="s">&quot;result&quot;</span>     <span class="o">=&gt;</span> <span class="kt">Dict</span><span class="p">{</span><span class="kt">AbstractString</span><span class="p">,</span><span class="kt">Any</span><span class="p">}(</span><span class="s">&quot;classType&quot;</span><span class="o">=&gt;</span><span class="s">&quot;searchResults&quot;</span><span class="p">,</span><span class="s">&quot;result…</span>
</pre></div>


<h4 id="examples_1">Examples</h4>
<div class="codehilite"><pre><span></span><span class="n">credentials</span> <span class="o">=</span> <span class="n">Credentials</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">psswd</span><span class="p">)</span>
<span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">credentials</span><span class="p">)</span>
<span class="n">term</span> <span class="o">=</span> <span class="s">&quot;obesity&quot;</span>
<span class="n">query</span> <span class="o">=</span> <span class="kt">Dict</span><span class="p">(</span><span class="s">&quot;string&quot;</span><span class="o">=&gt;</span><span class="n">term</span><span class="p">,</span> <span class="s">&quot;searchType&quot;</span><span class="o">=&gt;</span><span class="s">&quot;exact&quot;</span> <span class="p">)</span>
<span class="n">all_results</span><span class="o">=</span> <span class="n">search_umls</span><span class="p">(</span><span class="n">tgt</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
</pre></div>


<p><a target='_blank' href='https://github.com/BioJulia/BioServices.jl/blob/5066442acaf02cfbec74f8dc746ec4df2b4ab675/src/umls.jl#L172-L205' class='documenter-source'>source</a><br></p>
<hr />
<p><a id='Best-CUI-1'></a></p>
<h3 id="best-cui">Best CUI</h3>
<p><a id='BioServices.UMLS.best_match_cui-Tuple{Any}' href='#BioServices.UMLS.best_match_cui-Tuple{Any}'>#</a>
<strong><code>BioServices.UMLS.best_match_cui</code></strong> &mdash; <em>Method</em>.</p>
<div class="codehilite"><pre><span></span>best_match_cui(result_pages)
</pre></div>


<p>Retrieve the best match from array of all result pages</p>
<h4 id="example">Example</h4>
<div class="codehilite"><pre><span></span><span class="n">cui</span> <span class="o">=</span> <span class="n">best_match_cui</span><span class="p">(</span><span class="n">all_results</span><span class="p">)</span>
</pre></div>


<p><a target='_blank' href='https://github.com/BioJulia/BioServices.jl/blob/5066442acaf02cfbec74f8dc746ec4df2b4ab675/src/umls.jl#L247-L257' class='documenter-source'>source</a><br></p>
<hr />
<p><a id='Search-based-on-CUI-1'></a></p>
<h3 id="search-based-on-cui">Search based on CUI</h3>
<p><a id='BioServices.UMLS.get_cui-Tuple{Any,Any}' href='#BioServices.UMLS.get_cui-Tuple{Any,Any}'>#</a>
<strong><code>BioServices.UMLS.get_cui</code></strong> &mdash; <em>Method</em>.</p>
<div class="codehilite"><pre><span></span>get_cui(tgt,cui)
</pre></div>


<p>Retrieve information (name, semantic types, number of atoms, etc) for a known CUI from latest UMLS version or a specific release.</p>
<p>Returns UTS json response</p>
<p>See: https://documentation.uts.nlm.nih.gov/rest/concept</p>
<h4 id="example_1">Example</h4>
<div class="codehilite"><pre><span></span><span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">&quot;mykey&quot;</span><span class="p">)</span>
<span class="n">cui</span> <span class="o">=</span> <span class="s">&quot;C0028754&quot;</span>
<span class="n">concept</span> <span class="o">=</span> <span class="n">get_cui</span><span class="p">(</span><span class="n">tgt</span><span class="p">,</span> <span class="n">cui</span><span class="p">)</span>
</pre></div>


<p><a target='_blank' href='https://github.com/BioJulia/BioServices.jl/blob/5066442acaf02cfbec74f8dc746ec4df2b4ab675/src/umls.jl#L263-L280' class='documenter-source'>source</a><br></p>
<hr />
<p><a id='Semantic-types-1'></a></p>
<h3 id="semantic-types">Semantic types</h3>
<p><a id='BioServices.UMLS.get_semantic_types-Tuple{Any,Any}' href='#BioServices.UMLS.get_semantic_types-Tuple{Any,Any}'>#</a>
<strong><code>BioServices.UMLS.get_semantic_types</code></strong> &mdash; <em>Method</em>.</p>
<div class="codehilite"><pre><span></span>get_semantic_types(c::Credentials, cui)
</pre></div>


<p>Return an array of the semantic types associated with a cui</p>
<h4 id="example_2">Example</h4>
<div class="codehilite"><pre><span></span><span class="n">tgt</span> <span class="o">=</span> <span class="n">get_tgt</span><span class="p">(</span><span class="n">apikey</span> <span class="o">=</span> <span class="s">&quot;mykey&quot;</span><span class="p">)</span>
<span class="n">cui</span> <span class="o">=</span> <span class="s">&quot;C0028754&quot;</span>
<span class="n">sm</span> <span class="o">=</span> <span class="n">get_semantic_types</span><span class="p">(</span><span class="n">tgt</span><span class="p">,</span> <span class="n">cui</span><span class="p">)</span>
</pre></div>


<p><a target='_blank' href='https://github.com/BioJulia/BioServices.jl/blob/5066442acaf02cfbec74f8dc746ec4df2b4ab675/src/umls.jl#L302-L314' class='documenter-source'>source</a><br></p>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../eutils/" title="EUtils" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                EUtils
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright (c) 2016 The BioJulia Organisation
          </div>
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../.."}})</script>
      
        <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
      
        <script src="../../assets/mathjaxhelper.js"></script>
      
    
    
      
    
  </body>
</html>